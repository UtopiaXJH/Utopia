# Linux

# Linux基础命令

## 1. 查看目录信息

- **`ls [-a -l -h] [Linux路径]`**：查看当前目录信息
    - -l：以列表的形式进行显示
    - -h：显示文件的大小（带单位，如k，m，g）
    - -a：显示隐藏的文件

<aside>
💡

以 . 开头的文件或文件夹默认被隐藏，需要-a才能显示出来

</aside>

- **`tree`**：以树状方式显示目录信息
- **`pwd`**（print work directory）：查看当前目录的路径

## 2.  切换目录命令

- **`cd 目录名`**：切换到指定目录
- cd~               切换到当前用户的HOME目录
- cd ..               切换到上一级目录
- cd .                切换到当前目录
- cd -               切换到上一次目录

<aside>
💡

cd命令直接执行，不写参数，表示回到用户的HOME目录

</aside>

## 3. 创建、删除文件及目录命令的使用

- **`touch 文件名**`                       创建文件
- **`mkdir  目录名**`                      创建目录（文件夹）
    - -p：如果创建的目录中有依赖的目录，则一起创建，一次性创建多层级目录
- **`rm 文件夹或者目录名`**        删除指定文件或目录
    - -i：提示是否删除
    - -r：以递归的形式删除目录，用于删除文件夹以及文件夹的内容
    - -f：强行删除目录或文件，如果文件不存在也不进行报错（不提示，一般用于root用户）
    - -d：删除空文件夹
- **`rmdir 目录名`**                        删除空目录

## 4. 复制、移动文件及目录命令的使用

- **`cp   [-i] [param1 被复制的文件] [param2 目的地]`**      拷贝文件、目录
    - -i：显示提示内容，防止已有文件被覆盖
    - -r：以递归的形式进行复制，用于文件夹的复制
    - -v：显示复制后文件的路径
    - -a：保留原有文件的权限
- **`mv**`        移动文件、移动目录、重命名
    - -i：如果移动的目录有相同的文件是否选择覆盖
    - -v：显示移动后文件的路径

<aside>
💡

使用mv命令时，如果说移动的目的地不存在，相当于对移动目标进行重命名

</aside>

## 5. 查找文件、查找指定字符
- **find  [起始路径]  -name “被查找的文件名”**：**find  [起始路径]  -name “被查找的文件名”**：
    - **`find  [起始路径]  -name “被查找的文件名”`**： 按照名字查找文件
    - **`find  [起始路径]  -size  (+/-)k/M/G`**：按照文件大小查找文件
        - 通配符
            - \* ： 代表0个或任意个任意字符
            - ?： 代表一个任意字符

<aside>
💡

例如：

test* ：表示匹配任何以test开头的内容

*test：表示匹配任何以test结尾的内容

*test* ：表示匹配任何包含test的内容

</aside>

- `search` ： 查找指定字符
    - 正则表达式
        - . ： 匹配除了换行符以外的其他字符
        - ^： 匹配开头为……的字符
        - $： 匹配结尾为……的字符
- **`grep [-n]  关键字 文件路径`**：查找文件中的文本
    - -i：忽略大小写
    - -n：显示匹配行号
    - -v：显示不包含匹配文本的所有行
- **`which  [要查找的命令]`**：搜索某个系统命令的位置
- **`whereis`**：定位可执行文件、源代码文件、帮助文件在文件系统的位置

## 6.  重定向

- \>： 将左侧命令的结果，**覆盖**写入到符号右侧指定的文件中
- \>\>：将左侧命令的结果，**追加**写入到符号右侧指定的文件中

## 7. 管道

- | ：用于存储临时数据，可以作为数据的中转站，将左边命令的结果作为右边命令的输入

## 8.  显示、编辑文件中的内容

- cat：显示文件中的内容，会一次性全部打印输出，用于小数据
- more：通过分页的形式显示文件中的内容，用于大数据
- less：通过窗口显示文件内容，用滚轮翻阅
- head：显示文件的前几行
- gedit：编辑文件中的内容
- stat：显示文件或目录的详细信息
- **`wc [-c -m -l -w]  文件路径`**    统计文件的行数、单词数量等
    - -c：统计bytes数量
    - -m：统计字符数量
    - -l：统计行数
    - -w：统计单词数量
- **`echo 输出的内容`**：在命令行内输出指定内容
- **反引号 `** ：反引号包围的内容，会被作为命令执行，而非普通的字符
- **`tail [-f  -num]  Linux 路径` ：**可以查看文件尾部内容
    - -f：表示持续跟踪
    - -num：表示查看尾部多少行

## 9. 软链接和硬链接

可以将文件、文件夹链接到其他位置

链接只是一个指向，并不是物理移动

- ln：硬链接，文件内容与原文件有依赖关系，但文件本身是独立的
- **`ln  [-s]  src dst`**：只是源文件的一个引用，删除源文件，该链接就无法使用

## 10.  压缩和解压

linux支持的压缩包格式有

- .gz
- .bz2
- .zip

对于.gz和.bz2格式压缩包的操作

- tar：对文件进行压缩或解压
    - -c：对文件进行打包
    - -v：显示打包或解包文件的信息
    - -f：指定文件名，该选项必须写在最后
    - -z：压缩或解压（.gz）
    - -j：压缩或解压（.bz2）
    - -x：解包
    - -C：解包到指定路径

对于.zip格式的压缩包

- zip 或 unzip
    - -d：压缩或解压到指定路径

<aside>
💡

（1）ctrl + c：强制停止，命令输入错误时，也可通过该快捷键（2）直接取消pass掉

（3）ctrl + d：退出账户的登录，或者退出某些特定程序的专属页面（比如在python环境中，使用该hotkey可以直接退出）

（4）history：历史输入的命令

（5）可以通过 ！命令前缀，自动执行上一次匹配前缀的命令

（6）ctrl + r：输入内容去匹配历史内容

- 回车键可以直接执行
- 键盘左右键，可以得到此命令（不执行）

（7）光标移动快捷键

- ctrl + a：跳到命令开头
- ctrl + e：跳到命令结尾
- ctrl + ←：向左跳一个单词
- ctrl + →：向右跳一个单词

（8）ctrl + l：清空终端内容

</aside>

# Linux高级命令

## 11.  更改文件的权限

![image.png](image.png)

- **`chown [-R] [user] [:] [usergroup] 文件或文件夹`**：修改文件或目录的所有者
    - -R：对文件夹内全部内容应用相同规则
    - user：修改所属用户
    - usergroup：修改所属用户组
    - ：用于分隔用户和用户组

<aside>
💡

普通用户无法修改所属为其他用户或组

</aside>

- chmod：更改文件的权限
    - 角色
        - u：使用者
        - g：用户群
        - o：其他用户
        - a：所有用户
    - 运算符
        - -：撤销权限
        - +：添加权限
        - =：设置权限
    - 权限（可以用三位数字表示，第一个数字表示user，第二个数字表示group，第三个数字表示other）
        - r：可读（4）
        - w：可写（2）
        - x：可执行（1）
        - -：无权限（0）

## 12. 获取管理员权限

- **`sudo -s`**：获取root权限，可以多次执行
- sudo：获取管理员权限，执行一次后就自动退出
- exit：退出当前用户
- passwd：更改用户密码

## 13. 关机和重启

- **`shutdown -h now`**：关机
- reboot：重启

## 14. 用户相关的操作

- who/w：显示当前登录的用户信息
- useradd：添加用户
    - -m：自动创建名字为用户名的主目录，添加用户时最好添加该选项
    - -g：指定用户所属的群，如果没有指定将自动指定到相同用户名的用户群
- su -用户名：更改用户
- usermod：更改用户信息
    - -g：更改用户群
    - -G：设置一个附加群
- userdel：删除指定用户
    - -r username：删除用户主目录
- **`getent passwd`**：可以查看当前系统中有哪些用户
- **`getent group`**：可以查看当前系统中有哪些组

## 15. 用户群的相关操作

默认添加的用户是无法使用管理员权限的，如果想让添加的用户能够使用管理员权限，可以将该用户添加到一个附加组中即可

- gpasswd：添加或删除附加组的信息
    - username：添加附加群
    - -d：username：删除附加群
- groupadd：创建用户组
- groupdel：删除用户组

## 16. 进程

- ps：显示当前运行的进程
- kill：终止进程
- top：实时监视系统资源
- htop：更友好的进程监视器

## 17.  配置网络

**主机名**

- hostname：查看主机名
- **`hostnamectl set -hostname`**：修改主机名

**特殊IP地址**

- 127.0.0.1：这个ip地址用于指代本机
- 0.0.0.0：特殊ip地址
    - 可以用于指代本机
    - 可以在端口绑定中用来确定绑定关系
    - 在一些ip地址限制中，表示所有ip的意思，如放行规则设置为0.0.0.0，表示允许任意ip访问

**域名解析**

可以通过主机名找到对应计算机的ip地址，这就是主机名映射（域名解析）

先通过系统本地的记录去查找，如果找不到就联网去公开DNS服务器去查找

![image.png](image%201.png)

- ifconfig/ip：查看和配置网络接口信息
- netstat/ss：显示网络连接信息
- ping：测试与主机的连通性
- wget/curl：从网络下载文件
- ssh：远程登录到其他计算机
- scp：安全地将文件从本地复制到远程主机，或从远程主机复制到本地
- nc：用于网络连接测试和数据传输
- nmcli：用于管理网络连接的命令行工具
- rsync：用于在本地和远程系统之间同步文件和目录
    
    

## 18. 磁盘操作

- df：显示磁盘空间使用情况
- du：显示目录的自盘使用情况
- lsblk：查看磁盘分区信息
- fdisk：管理磁盘，打开磁盘分区工具
- free：显示内存使用情况，以MB为单位

## 19. 与数据库的交互

- psql：用于PostgreSQL数据块
- mysql：用于MySQL数据库

## 20. 软件安装

### 软件安装介绍

yum命令（centOS）

- **`yum [-y] [install | remove | search]  软件名称`**
    - -y：自动确认，无需手动确认安装或卸载过程

ubuntu软件安装有两种方式：

- 离线安装（deb文件格式安装）
- 在线安装（apt-get方式安装）

### deb文件格式安装、卸载

- dpkg：安装和卸载deb安装包
    - -i：离线安装deb安装包
    - -r：卸载

### apt-get方式安装

- **`sudo apt-get install 安装包`**：在线安装deb安装包
- **`sudo apt-get remove安装包`**：卸载在线deb安装包

### systemctl命令

- **`systemctl start | stop | status | enable |disable 服务名`**
    - enble：开机自启
    - disable：开机不会自启

### 更改镜像源

# vim编辑器

## 命令模式（默认进行命令模式）

- yy：复制光标所在行
- nyy：复制n行
- p：粘贴
- dd：删除/剪切当前行
- ndd：n是数字，从当前行开始删除n行
- V：按行选中
- u：撤销
- ctrl + r：反撤销
- >>：往右缩进
- <<：往左缩进
- **:/搜索的内容**：搜索指定内容
- **:%s/要替换的内容/替换后的内容/g**：全局替换
- **:开始行数,结束行数s/要替换的内容/替换后的内容**：局部替换
- **.** ：重复上一次命令操作
- G：回到最后一行
- gg：回到第一行
- **数字+G**：回到指定行
- ^：回到当前行的行首
- $：回到当前行的行末
- ctrl+f：下一屏
- ctrl+b：上一屏
- V+G：全选

## 编辑模式（按 i 进入编辑模式）

- i：在当前光标位置进入输入模式
- a：在当前光标位置之后进入输入模式
- I：在当前行的开头进入输入模式
- A：在当前行的结尾进入输入模式
- o：在当前行的下一行进入输入模式
- O：在当前行的上一行进入输入模式

## 末行模式（按：进入末行模式）

- w：保存
- q：退出
- x：保存退出
- wq：保存退出
- q!：强制退出
- set nu：显示行号
- set paste：设置粘贴模式
